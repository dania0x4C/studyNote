# 자료 사전

1. 승객정보 = 승객 아이디 + 장애유형 + 요구사항 + 탑승 정보
    
2. 승객 아이디 = * 각 개인 식별 아이디 *
    
3. 장애 유형 = [ ”지체장애” | “시각장애” | “지적장애” ] + [" 중증 " | " 경증 "]
    
4. 요청 사항 = [ ”휠체어 올려 주기” | “좌석 탑승 도와주기” | "버스 번호 알려주기" | "하차 벨 위치 알려주기"] = * 장애인이나 사회적 약자의 요청 사항 *
    
5. 탑승 정보 = 버스정보 + 승차 정류장 + 하차 정류장
    
6. 즐겨찾기 = 탑승 버스 + 탑승 정보
    
7. 도움 사용자 정보 = 사용자 아이디 + 탑승 정보 + 1365서비스 연계 정보
    
8. 사용자 아이디 = * 각 개인 식별 아이디 *
    
9. 1365서비스 연계 정보 = _봉사 시간 제공을 위한 정보_

10. 리워드 = 버스가 정류장으로 오기까지 남은 시간 + 15분
	
11. 도움 가능 여부 [불가능 | 정류장에서 가능 | 같은 버스 탑승 시 가능]

12. 도움 최대 가능 횟수 = 14회 
	= *하루에 2회를 기준으로 일주일 총 일주일에 14회라는 제한을 걸어두고 비이상적 리워드 증가를 한 사용자의 경우 버스 이용 내역 확인같은 자체 검증 진행*
	-> (악의적인 사용은 이 서비스 이외에도 가능하다고 생각, 그럼에도 이런 방식으로 횟수를 정해두고 비 이상적인 행위를 감시하는 것이 지금 할 수 있는 방법이라고 생각)
	
# 자료 흐름도
![[Pasted image 20241212224019.png]]

# 소단위 명세서

### 1. **로그인**

FOR 로그인 시도 승객에 대해

1. ID와 비밀번호 입력을 받는다
2. if 데이터베이스ID = 입력ID AND 데이터베이스PW = 입력PW

2.1 THEN 세션을 생성하고 홈 화면으로 이동

"로그인 성공" 메시지 표시

2.2 ELSE "ID 또는 비밀번호가 일치하지 않습니다" 메시지 표시

END IF

END FOR
### 2. **잊은 패스워드 찾기**

FOR 패스워드 찾기 시도 승객/기사의 대해

1.사용자로부터 ID 또는 이메일을 입력 받는다

1. 데이터베이스에서 입력된 정보와 일치하는 계정을 찾는다
2. if 데이터베이스ID = 입력ID AND 데이터베이스PW = 입력PW

3.1 THEN 복구 링크 또는 임시 비밀번호 생성

이메일로 복구 정보 전송

"이메일 전송 완료" 메시지 표시

3.2 ELSE "등록된 계정 정보가 없습니다" 메시지 표시

END IF

END FOR

### 3. **출발지 및 목적지 입력**

FOR 출발지와 목적지를 입력하려는 교통약자에에 대해

1. 사용자로부터 출발지와 목적지를 입력받는다
2. if 경로 조회 성공

2.1 THEN 경로에 있는 버스 목록을 화면에 표시

2.2 ELSE "유효하지 않은 경로입니다" 메시지 표시

END IF

END FOR

### **4. 버스 선택 및 위치 정보 수신**

FOR 버스의 위치 정보를 수신 받으려는 승객에 대해

1. 경로에 있는 버스 목록에서 승객이 탑승할 버스를 선택
2. if 버스 위치 정보 수신 성공

2.1 THEN 현재 위치와 예상 도착 시간을 화면에 표시

2.2 ELSE "위치 정보 수신 실패" 메시지 표시

END IF

END FOR

### **5. 즐겨찾기 등록 및 삭제**

FOR 즐겨찾기에 버스, 경로 정보를 추가/삭제하고자 하는 승객

1. 즐겨찾기에 등록/삭제할 버스의 출발지 및 목적지 정보 입력
2. if 즐겨찾기 등록 성공 OR (DB버스 출발지 = 입력버스 출발지 AND DB버스 목적지 = 입력버스 목적지)

2.1 THEN 즐겨찾기 목록에 버스 및 경로 정보가 저장/삭제

2.2.1 ELSE IF 즐겨찾기 등록

“즐겨찾기에 등록 불가능합니다” 경고 메시지 표시

2.2.2 ELSE 즐겨찾기 삭제

“즐겨찾기에서 삭제가 불가능합니다” 경고 메시지 표시

END IF

END FOR

### 7. 요청사항 설정하기

FOR  요청사항을 선택하고자 하는 승객

1. 요청 사항 탭에서 원하는 요청사항 체크박스 클릭
2. if 요청사항 전체 수정 = true
	2.1 THEN 사용자 요청사항 수정
	2.2 ELSE "요청사항 수정이 불가능 합니다” 경고 메시지 표시
	END IF

END FOR
### 8. 도움 가능 여부 설정하기
FOR  도움가능여부를 선택하고자 하는 일반 사용자

1. 요청 사항 탭에서 원하는 요청사항 체크박스 클릭
2. if 요청사항 전체 수정 = true
	2.1 THEN 사용자 요청사항 수정
	2.2 ELSE "요청사항 수정이 불가능 합니다” 경고 메시지 표시
	END IF

END FOR
### 9. 사용자 매칭 후 리워드 제공

FOR 버스 탑승 시 도움이 필요한 교통 약자
	1. 교통 약자가 특정 버스에 대한 탑승 도움 요청을 클릭함
	IF 주변에 서비스를 이용하는 일반 사용자 여부 = true
	1.1 TEHN 사용자에게 도움 요청 신호 보내기
		IF 사용자가 도움 요청 수락 = true
		1.1.1 THEN 요청 사항 내용 전달 + 교통 약자와 가까워지면 진동 신호로 알려주기
			IF 사용자와 교통약자가 같이 있다 확인 받기 = true
				1.1.1.1 THEN 요청 완료 확인 버튼 누르기
					IF 요청 사항 완료 & 일주일 최대 가능 횟수 = true
					1.1.1.1.1 THEN 리워드 제공
					1.1.1.1.2 ELSE 리워드 미 제공
					END IF
				1.1.1.2 ELSE 계속 진동 울리기
			END IF
		1.1.2 ELSE IF 다른 사용자에게 요청 보내기
		1.1.3 ELSE 차량 정류장 도달 정보만 음성으로 제공해주기
		END IF
	1.2 ELSE 차량 정류장 도달 정보만 음성으로 제공해주기
	END IF
END FOR

수정 가능 사항
1. [리워드 자체의 악용 가능성이 있어서 자체 리워드 시스템을 도입 하는 방향도 가능해보이지만 우선적으로는 실질적인 리워드를 제공하는 방향으로 방향성을 잡아보겠다.]
 -> 실질적으로 자원 봉사 수요처 등록을 해야하는데 당장 할 수 있는 것이 아니고 실직적으로 현장 심사까지 필요하기에 힘들어 보임 그럼에도 우선은 된다는 가정 하에 작성해보겠다.
 
1. [버스 자체 위치 정보를 받을 수 있다면 버스와 가까워 졌을 때 진동을 울려주는 방식을 이용하고 싶은데 그 정도로 깊이 알지 못해서 적어두기만 했다.]