# 리눅스 파일 시스템
리눅스 파일 시스템의 공통개념 
- 리눅스의 모든 파일 시스템은 유닉스 운영체제에서 유래된 공통의 개념을 바탕으로 구현 
	 - 파일은 inode로 관리 
	 - 디렉터리는 단순히 파일의 목록을 가지고 있는 파일일 뿐임 
	 - 특수 파일을 통해 장치에 접근할 수 있음


ext4 파일 시스템의 구조 
- 효율적으로 디스크를 사용하기 위해 저장 장치를 논리적인 블록의 집합(블록 그룹)으로 구분 
- 일반적으로 블록은 4KB이고 실제 크기는 시스템의 설정에 따라 변경 가능 
- 블록 그룹 유형 
	- 블록 그룹 0 : 파일 시스템의 첫 번째 블록 그룹으로 특별하게 그룹 0 패딩과 슈퍼블록, 그룹 디스크립터를 가지고 있음 
	- 블록 그룹 a : 파일 시스템에서 첫 번째 블록 그룹이 아닌 블록 그룹으로 그룹 0 패딩이 없으나 슈퍼블록과 그룹 디스크립터에 대한 복사본을 가지고 있음  
	- 블록 그룹 b : 파일 시스템에서 첫 번째 블록 그룹이 아닌 블록 그룹으로 그룹 0 패딩, 슈퍼블록, 그룹 디스크립터가 없고 바로 데이터 블록 비트맵으로 시작
	![[Pasted image 20241015142544.png]]
	![[Pasted image 20241015142625.png]]![[Pasted image 20241015142635.png]]
	![[Pasted image 20241015142647.png]]
	![[Pasted image 20241015142720.png]]
# 파일 시스템 마운트

## 마운트 포인트
- 마운트 : 파일 시스템을 디렉터리 계층 구조의 특정 디렉터리와 연결하는 것
- 마운트 포인트 : 디렉터리 계층 구조에서 파일 시스템이 연결되는 디렉터리(/usr, /home)
![[Pasted image 20241015143015.png]]
![[Pasted image 20241015143034.png]]
![[Pasted image 20241015143106.png]]

![[Pasted image 20241015143154.png]]
![[Pasted image 20241015143143.png]]

![[Pasted image 20241015143300.png]]
![[Pasted image 20241015143308.png]]
![[Pasted image 20241015143319.png]]
![[Pasted image 20241015143337.png]]

# 디스크 관리

```
df[옵션][파일 시스템]
// 시스템별 디스크 사용량 확인
```
![[Pasted image 20241015143607.png]]
```
du[옵션][디렉터리]
// 디렉터리나 사용자별 디스크 사용량 확인
```
![[Pasted image 20241015143656.png]]
```
fsck[옵션][장치명]
// 파일 시스템 검사하기
// inode 및 블록, 디렉터리, 파일 링크 등을 검사, 필요 시 복구 작업도 수행
```
![[Pasted image 20241015144004.png]]
```
esfsck[옵션][장치명]
// inode 및 블록, 디렉터리, 파일 링크 등을 검사, 필요 시 복구 작업도 수행
```
![[Pasted image 20241015144111.png]]
```
badblocks[옵션][장치명]
// 파일 시스템 강제 검사
```
![[Pasted image 20241015144209.png]]
```
dumpe2fs[장치명]
// 백업 슈퍼블록을 이용하여 파일 시스템 복구하기
```
