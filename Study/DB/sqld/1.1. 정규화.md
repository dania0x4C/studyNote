## 이상현상

1. 삽입이상: 새로운 데이터를 추가할 때 필요한 데이터가 모두 존재하지 않아서 전체 데이터를 생성하지 못 하는 경우
	ex) 학생 Table-> 수강과목, 과목 담당 교수 정보를 저장
	하지만 새로운 과목을 추가하려고 할 때 그 과목을 수강하는 학생이 없어서 새롭게 추가하지 못 한다면 과목과 담당 교수 정보를 저장할 수 없음
	
2. 갱신이상: 중복된 데이터 때문에 일부 데이터만 갱신되어 데이터가 일치하지 않음
	ex) 위의 학생 Table에서 한 교수의 전화번호를 변경할 때 모든 레코드를 일관성있게 갱신 하지 않으면 정보가 일치하지 않음
	
3. 삭제이상: 특정 정보를 삭제할 때 관련 모든 정보가 삭제되는 현상
	ex) 특정 학생이 과목을 드랍하면 그 과목의 정보도 같이 삭제가 됨

---

## 1차 정규화 (1NF)

> **원자성 (Atomicity)**  
> 하나의 속성(컬럼)에는 하나의 값만 포함해야 합니다.

### 정규화 전 (비정규형)

|학번|이름|수강 과목|
|---|---|---|
|1|Tom|Math, Science|

 **문제점:**

- `수강 과목` 컬럼에 여러 값이 포함되어 있어 원자성이 깨짐

### 정규화 후 (1NF 적용)

|학번|이름|수강 과목|
|---|---|---|
|1|Tom|Math|
|1|Tom|Science|

**개선점:**

- 다중 값을 개별 행으로 분리하여 원자성을 만족시킴

---

## 2차 정규화 (2NF)

> **부분 함수 종속 제거**  
> 기본 키의 일부에만 종속된 속성을 별도로 분리

### 1차 정규화 상태

| 학번  | 이름  | 수강 과목   | 과목 교수     |
| --- | --- | ------- | --------- |
| 1   | Tom | Math    | Dr. Smith |
| 1   | Tom | Science | Dr. John  |

 **문제점:**

- `이름` 속성은 `학번`만으로 결정되므로 `수강 과목`과 무관함
- `과목 교수`는 `수강 과목`에 종속되므로 학번과 관계없이 관리 가능

### 정규화 후 (2NF 적용)

#### 학생 테이블

|학번|이름|
|---|---|
|1|Tom|

#### 수강 과목 테이블

|학번|수강 과목|과목 교수|
|---|---|---|
|1|Math|Dr. Smith|
|1|Science|Dr. John|

 **개선점:**

- 학생 정보를 `학생 테이블`과 `수강 과목 테이블`로 분리하여 **부분 종속 제거**

---

## 3차 정규화 (3NF)

> **이행적 종속 제거**  
> 기본 키가 아닌 속성이 다른 속성에 종속되는 문제 제거

### 2차 정규화 상태

|학번|수강 과목|과목 교수|교수 전화번호|
|---|---|---|---|
|1|Math|Dr. Smith|123-456|
|1|Science|Dr. John|789-012|

 **문제점:**

- `교수 전화번호`는 `과목 교수`에 종속되므로 학번과는 직접적인 관계가 없음
- 즉, **이행적 종속**(학번 → 과목 교수 → 교수 전화번호) 존재

### 정규화 후 (3NF 적용)

#### 수강 과목 테이블

|학번|수강 과목|과목 교수|
|---|---|---|
|1|Math|Dr. Smith|
|1|Science|Dr. John|

#### 교수 정보 테이블

|과목 교수|교수 전화번호|
|---|---|
|Dr. Smith|123-456|
|Dr. John|789-012|

**개선점:**

- 교수 정보를 `교수 정보 테이블`로 분리하여 **이행적 종속 제거**

---

## BCNF (보이스-코드 정규형)

> **후보 키가 아닌 결정자 제거**  
> 모든 결정자가 후보 키가 되도록 변환

### 3차 정규화 상태

|학번|수강 과목|과목 교수|
|---|---|---|
|1|Math|Dr. Smith|
|1|Science|Dr. John|

**문제점:**

- `과목 교수`가 `수강 과목`을 결정하지만, `과목 교수`는 후보 키가 아님
- 즉, 학번이 수강 과목을 결정하는 것이 아니라 교수가 과목을 결정
- **결정자(과목 교수)가 후보 키가 아닌 상태**


### 정규화 후 (BCNF 적용)

#### 수강 과목 테이블

|학번|수강 과목|
|---|---|
|1|Math|
|1|Science|

#### 교수 과목 테이블

|과목 교수|수강 과목|
|---|---|
|Dr. Smith|Math|
|Dr. John|Science|

**개선점:**

- `과목 교수`가 `수강 과목`을 결정하도록 별도 테이블로 분리하여 **결정자 문제 해결**

---

## 4차 정규화 (4NF)

> **다중 값 종속 제거**  
> 하나의 키가 두 개 이상의 독립적인 다중 값을 가질 경우 분리

### BCNF 상태

|학번|수강 과목|부가 활동|
|---|---|---|
|1|Math|Chess|
|1|Science|Chess|

**문제점:**

- 학번이 `수강 과목`, `부가 활동`을 **독립적으로 결정**하지만, 같은 테이블에서 관리됨
- 즉, 학번이 부가활동과 수강과목의 선택은 같은 이유로 결정되지 않음

### 정규화 후 (4NF 적용)

#### 수강 과목 테이블

|학번|수강 과목|
|---|---|
|1|Math|
|1|Science|

#### 부가 활동 테이블

|학번|부가 활동|
|---|---|
|1|Chess|

**개선점:**

- `수강 과목`과 `부가 활동`이 **독립적**이므로 **다중 값 종속 제거**

---

## 5차 정규화 (5NF)

> **조인 종속 제거**  
> 쪼갠 테이블이 다시 조합되지 못하는 문제 해결

### 4차 정규화 상태

|학번|수강 과목|교수|교실|
|---|---|---|---|
|1|Math|Dr. Smith|Room 101|
|1|Science|Dr. John|Room 102|

**문제점:**

- `학번`, `수강 과목`, `교수`, `교실`이 서로 종속되지만 개별적으로 저장 불가능

### 정규화 후 (5NF 적용)

#### 수강 테이블

|학번|수강 과목|
|---|---|
|1|Math|
|1|Science|

#### 교수 배정 테이블

|수강 과목|교수|
|---|---|
|Math|Dr. Smith|
|Science|Dr. John|

#### 교실 배정 테이블

|교수|교실|
|---|---|
|Dr. Smith|Room 101|
|Dr. John|Room 102|

**개선점:**

- **조인 종속 제거**하여 관계 유지 가능

학생

| 학번  | 이름    |
| --- | ----- |
| 1   | Tom   |
| 2   | Alice |
| 3   | Bob   |

수강과목

| 학번 | 수강 과목  |
|------|-----------|
| 1    | Math      |
| 1    | Science   |
| 2    | Math      |
| 3    | English   |

교수

| 교수 ID | 교수 이름  | 교수 전화번호  |
|---------|-----------|---------------|
| P001    | Dr. Smith | 123-456       |
| P002    | Dr. John  | 789-012       |
| P003    | Dr. Brown | 345-678       |

교수 과목

| 과목 이름 | 교수 ID |
|-----------|--------|
| Math      | P001   |
| Science   | P002   |
| English   | P003   |

부가 활동

| 학번 | 부가 활동  |
|------|-----------|
| 1    | Chess     |
| 1    | Soccer    |
| 2    | Chess     |
| 3    | Basketball|


교수배정

| 교수 ID | 수강 과목  |
|---------|-----------|
| P001    | Math      |
| P002    | Science   |
| P003    | English   |


교실배정

| 수강 과목  | 교실      |
|-----------|---------|
| Math      | Room 101 |
| Science   | Room 102 |
| English   | Room 103 |
